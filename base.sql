CREATE TABLE question (id INT AUTO_INCREMENT NOT NULL, text VARCHAR(255) NOT NULL, discr VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE checkboxquestion (id INT NOT NULL, answer_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_23F8E378AA334807 (answer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE checkbox_items (checkbox_id INT NOT NULL, item_id INT NOT NULL, INDEX IDX_5B0AEFABC875A461 (checkbox_id), UNIQUE INDEX UNIQ_5B0AEFAB126F525E (item_id), PRIMARY KEY(checkbox_id, item_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE clicklog (id INT AUTO_INCREMENT NOT NULL, date DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE item (id INT AUTO_INCREMENT NOT NULL, text VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE qrcode (id INT AUTO_INCREMENT NOT NULL, counter INT NOT NULL, title VARCHAR(255) NOT NULL, creationDate DATETIME NOT NULL, path VARCHAR(255) NOT NULL, pathAdmin VARCHAR(255) NOT NULL, discr VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE qrcode_clicklogs (qrcode_id INT NOT NULL, clicklog_id INT NOT NULL, INDEX IDX_E55534FA551274BC (qrcode_id), UNIQUE INDEX UNIQ_E55534FA15DAD1B6 (clicklog_id), PRIMARY KEY(qrcode_id, clicklog_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE likable (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE openquestion (id INT NOT NULL, answer LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE radiobuttonquestion (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE radiobutton_answers (radiobutton_id INT NOT NULL, answer_id INT NOT NULL, INDEX IDX_7AA287CF6ED45C74 (radiobutton_id), UNIQUE INDEX UNIQ_7AA287CFAA334807 (answer_id), PRIMARY KEY(radiobutton_id, answer_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE radiobutton_items (radiobutton_id INT NOT NULL, item_id INT NOT NULL, INDEX IDX_3C53765D6ED45C74 (radiobutton_id), UNIQUE INDEX UNIQ_3C53765D126F525E (item_id), PRIMARY KEY(radiobutton_id, item_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE redirect (id INT NOT NULL, url VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE survey (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE survey_questions (survey_id INT NOT NULL, question_id INT NOT NULL, INDEX IDX_2F8A16F8B3FE509D (survey_id), UNIQUE INDEX UNIQ_2F8A16F81E27F6BF (question_id), PRIMARY KEY(survey_id, question_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE yesno (id INT NOT NULL, counterno INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE no_clicklogs (yesno_id INT NOT NULL, clicklog_id INT NOT NULL, INDEX IDX_7C48E5095E427BA4 (yesno_id), UNIQUE INDEX UNIQ_7C48E50915DAD1B6 (clicklog_id), PRIMARY KEY(yesno_id, clicklog_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE checkboxquestion ADD CONSTRAINT FK_23F8E378AA334807 FOREIGN KEY (answer_id) REFERENCES item (id);
ALTER TABLE checkboxquestion ADD CONSTRAINT FK_23F8E378BF396750 FOREIGN KEY (id) REFERENCES question (id) ON DELETE CASCADE;
ALTER TABLE checkbox_items ADD CONSTRAINT FK_5B0AEFABC875A461 FOREIGN KEY (checkbox_id) REFERENCES checkboxquestion (id) ON DELETE CASCADE;
ALTER TABLE checkbox_items ADD CONSTRAINT FK_5B0AEFAB126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE qrcode_clicklogs ADD CONSTRAINT FK_E55534FA551274BC FOREIGN KEY (qrcode_id) REFERENCES qrcode (id) ON DELETE CASCADE;
ALTER TABLE qrcode_clicklogs ADD CONSTRAINT FK_E55534FA15DAD1B6 FOREIGN KEY (clicklog_id) REFERENCES clicklog (id);
ALTER TABLE likable ADD CONSTRAINT FK_2C3ADF75BF396750 FOREIGN KEY (id) REFERENCES qrcode (id) ON DELETE CASCADE;
ALTER TABLE openquestion ADD CONSTRAINT FK_AF8B64C0BF396750 FOREIGN KEY (id) REFERENCES question (id) ON DELETE CASCADE;
ALTER TABLE radiobuttonquestion ADD CONSTRAINT FK_E8CDE9FABF396750 FOREIGN KEY (id) REFERENCES question (id) ON DELETE CASCADE;
ALTER TABLE radiobutton_answers ADD CONSTRAINT FK_7AA287CF6ED45C74 FOREIGN KEY (radiobutton_id) REFERENCES radiobuttonquestion (id);
ALTER TABLE radiobutton_answers ADD CONSTRAINT FK_7AA287CFAA334807 FOREIGN KEY (answer_id) REFERENCES item (id);
ALTER TABLE radiobutton_items ADD CONSTRAINT FK_3C53765D6ED45C74 FOREIGN KEY (radiobutton_id) REFERENCES radiobuttonquestion (id) ON DELETE CASCADE;
ALTER TABLE radiobutton_items ADD CONSTRAINT FK_3C53765D126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE redirect ADD CONSTRAINT FK_C30C9E2BBF396750 FOREIGN KEY (id) REFERENCES qrcode (id) ON DELETE CASCADE;
ALTER TABLE survey ADD CONSTRAINT FK_AD5F9BFCBF396750 FOREIGN KEY (id) REFERENCES qrcode (id) ON DELETE CASCADE;
ALTER TABLE survey_questions ADD CONSTRAINT FK_2F8A16F8B3FE509D FOREIGN KEY (survey_id) REFERENCES survey (id) ON DELETE CASCADE;
ALTER TABLE survey_questions ADD CONSTRAINT FK_2F8A16F81E27F6BF FOREIGN KEY (question_id) REFERENCES question (id);
ALTER TABLE yesno ADD CONSTRAINT FK_4EDC9E7BBF396750 FOREIGN KEY (id) REFERENCES qrcode (id) ON DELETE CASCADE;
ALTER TABLE no_clicklogs ADD CONSTRAINT FK_7C48E5095E427BA4 FOREIGN KEY (yesno_id) REFERENCES yesno (id) ON DELETE CASCADE;
ALTER TABLE no_clicklogs ADD CONSTRAINT FK_7C48E50915DAD1B6 FOREIGN KEY (clicklog_id) REFERENCES clicklog (id);
